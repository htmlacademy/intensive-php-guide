---
layout: page
title: "Знакомство с языком. Часть 1"
permalink: part1.html
---

## Знакомство с языком

### Определения

Давай начнем с определения того, чем именно является PHP. Сложно в одном предложении дать полное представление об этом языке, поэтому мы опишем его следующими тремя характеристиками:

PHP - это препроцессор гипертекста (HTML)  
PHP - это серверный язык программирования  
PHP - это скриптовый, интерпретируемый язык программирования 

### Зачем нужен PHP

Поясним каждое из определений и узнаем в каких задачах будет полезен PHP.  

Основная задача PHP - это оживление HTML страниц.  
Обычные HTML страницы статичны. 
Статичность (или неизменность) означает, что после создания такой страницы верстальщиком, она лежит на сервере (хостинге) и при каждом обращении к этой странице браузер показывает её в абсолютно неизменном виде любому пользователю сети.  
Но этого не всегда достаточно.  

Бывает, что мы хотим показать посетителю сайта динамическую информацию. Например:
* курс валют
* текущая погода
* счетчик посещений страницы

Разумеется, средствами одного HTML решить такую задачу не получится. Здесь то нам и понадобится PHP. 
PHP работает в тесной связке с веб-сервером. От веб-сервера он принимает входящий запрос, выполняет сценарий и отдает результат в виде готового HTML обратно серверу. Сервер отправляет этот результат в браузер пользователю и ты видишь готовую веб-страничку.

РНР позволяет манипулировать содержанием веб-страницы на сервере непосредственно перед тем, как
она будет отправлена браузеру. Разберемся как это работает.
PHP умеет исполнять специально написанные сценарии. В ходе такого исполнения, PHP может изменить или создать любой HTML-код. Т.е. результат исполнения сценария - это всегда динамический сформированный HTML-код. Затем этот код сервер отправляет браузеру. 
Тут важно понимать, что браузер не знает как была сформирована данная страница - статично сверстана верстальщиком или динамически создана при участии PHP. Браузеру это безразлично, т.к. он всегда работает только с тем, что получил от сервера.

Давай запомним, что **сценарий** - это программа, которая находится на стороне сервера и запускается в ответ на запрос от браузера.

Теперь мы можем понять, почему PHP называют препроцессором гипертекста.
Когда твой браузер запрашивает страницу с адресом *.php, веб-сервер обращается к PHP, и просит его выполнить сценарий из файла по этому адресу. 

Процесс выполнения сценария также называют его **интерпретацией**, а сам PHP - **интерпретатором**.

### Где используется PHP

Основная сфера применения языка PHP - это веб. Веб или всемирная паутина - это сайты, которые ты каждый день посещаешь из браузера твоего компьютера или мобильного устройства. Важно понимать, что веб - это не весь интернет, а только самая большая и популярная его часть. Помимо веба через интернет работает электронная почта, системы мгновенных сообщений, файлообменные сервисы, сетевые игры и многое другое.

Практически каждый сайт, который ты посещаешь, работает на PHP. Этот язык отлично подходит для любых динамических веб-сайтов, среди которых:
* социальные сети
* блоги и форумы
* интернет-магазины
* браузерные игры

## Установка и использование

На нашем интенсиве мы будем работать с версией PHP 7.1

### Где скачать
Мы рекомендуем использовать программную сборку [OpenServer](https://ospanel.io/download/). После загрузки и установки дистрибутива у тебя на компьютере будет свежая версия PHP, веб-сервер, база данных, а также много удобных возможностей. Подробнее о процессе установки и использовании мы рассказываем на первой лекции.

### Как выглядит сценарий

Типичный php-сценарий - это набор выражений. Каждое выражение начинается с новой строчки и заканчивается точкой с запятой.  
Выражение - это инструкция, которая приказывает php интерпретатору выполнить одно действие, например сложить два числа или вывести на экран информацию.
Давай посмотрим как выглядит самый простой сценарий. Он будет выводить на экран одну строку: "Привет, Мир!":  
 `<?php
 print("Привет, мир");`  

Здесь важно отметить, что любой php-сценарий обязательно начинается с такой строки: `<?php` - так мы даем знать веб-серверу, что дальше пойдет код на php.  
 В нашем пример сценарий состоит из всего одной инструкции: `print("Привет, мир");`  
 Здесь мы просим функцию `print` вывести на экран наш текст - "Привет, Мир".
 Это можно рассматривать как подлежащее и сказуемое в русском языке, где функция `print` - это сказуемое, а "Привет, Мир"  - подлежащее.  

 Как мы уже знаем, php умеет встраиваться в статичные HTML файлы и модифицировать их с помощью инструкций. Вот как будет  выглядеть тот же пример с выводом текста, но при реализации внутри HTML:
 ```
 <html>
 <head><title>Наша первая php страница</title></head>
 <body>
 <h1><?php print("Привет, мир"); ?></h1>
 </body>
 </html>
 ```

Обрати внимание, что в этом примере мы использовали дополнительный фрагмент - `?>`.
Так мы даем серверу понять где заканчивается наш php сценарий. В случае, если наш код последний в документе и после него ничего не следует, этот фрагмент не обязателен.

## Синтаксис языка

Разберемся из чего состоит любой язык программирования. Как и языки на которых мы говорим, язык программирования также строится из кирпичиков, которые, в конечном итоге, и составлют ту совокупность знаний называемую человеческим языком.  
У каждого языка есть свои правила и конструкции, следуя которым мы выражаем свои мысли делаем их понятными для другого человека.
В программировании все точно также. Но вместо человеческого языка мы используем язык программирования PHP, а в роли нашего собеседника выступает PHP интерпретатор. Поэтому, чтобы выразить свою мысль, мы должны сделать её понятной для интерпретатора.

### Переменные

Переменные - это основа любого языка программирования. Во время написания кода мы будем постоянно работать с переменными. 
Понять концепцию переменных очень просто.  
Переменная - это контейнер, в котором содержатся данные, так же как напиток содержится в чашке.  
Любую информацию, которую мы будем использовать в коде, вначале необходимо сохранить в переменной.

У переменной обязательно должно быть имя, поэтому переменная всегда состоит из имени и значения. Значение - это любая информация, которая хранится внутри переменной. 

Например, мы можем попросить посетителя нашей страницы указать свой возраст, а затем использовать это значение для других целей - узнать год рождения или показать этот возраст на самой странице.

#### Как работать с переменными
Любую переменную следует вначале объявить, т.е. дать ей имя и присвоить значение.  
В синтаксисе языка PHP имя переменной записывается латинскими символами, но первым символом всегда должен быть знак доллара `$`, а затем уже идет само имя.  
Не допускается начинать имя переменной с цифры, а также использовать любые значения, кроме букв алфавита и знака подчеркивания.  
Примеры допустимых имен переменных:  
* $age
* $favorite_color
* $name2

Примеры *недопустимых* имен:
* age - забыт знак доллара в начале
* $42 - начинается с цифры
* $my-age - содержит дефис

#### Присваивание

Пустая переменная не будет слишком полезна. Поэтому давай сразу что нибудь туда поместим. Такое действие называется операцией присваивания.  
Вот как выглядит присваивание информации в новую переменную:  
`$favorite_color = "green";`  

Знак "равно" в PHP является _оператором_ и всегда означает операцию присваивания.  
Здесь мы записали слово "green" в переменную под именем _favorite_color_.  
Обрати внимание: мы взяли в кавычки слово green. Кавычки всегда строго необходимы, если речь идет об использовании текста. Но если в переменную помещается не текст, а, к примеру, число, то в этом случае кавычки не нужны.  
Пример:  
`$favorite_number = 42;`

#### Использование

Мы научились сохранять информацию в переменных. Теперь посмотрим как получить доступ к этой информации в нашем сценарии.  
Ведь когда мы пытаемся запомнить в своей голове новый телефонный номер, то делаем это не просто так, а для того чтобы на него позвонить, к примеру.  
Это значит, что мы запоминаем информацию с целью вернуться к ней в дальнейшем и применить её для какого то действия - совершить звонок, написать сообщение и т.п.  

Такая логика полностью работает и в программировании.
Сохранив информацию однажды, её можно использовать в дальнейшем для выполнения различных действий. Таким действием может быть вывод этой информации на экран.  
Давай перепишем уже знакомый сценарий так, чтобы в нем использовались переменные.  
```
<?php
$welcome_text = "Привет, мир";  
print($welcome_text);
```
Теперь этот простой сценарий состоит из двух шагов. В первом мы объявлем (инициализируем) новую переменную и помещаем туда текст.
Во втором шаге мы используем эту переменную, обращаясь к ней по имени в контексте вызова функции вывода на экран. Т.е. теперь функция `print` получает не текст напрямую, а переменную, которая содержит этот текст. 

#### Конкатенация

Этим страшным словом называется операция склеивания нескольких строк в одну.
Предположим, у нас есть две уже знакомых переменных: `$favorite_color` и `$favorite_number`, а мы собираемся вывести их в одной строке, чтобы получить такой результат:  
- "_Мой любимый цвет - зеленый, а любимое число - 42_"

где значение цвета хранится в $favorite_color, а числа в $favorite_number".

Чтобы получить такую строку необходимо использовать оператор конкатенации - `.` (точка). 
В качестве операндов он берет две строки или переменные, содержащие строку, а затем возвращает возвращает новую строку.  
Выглядит это так:

```
<?php
$united_string = "Мой любимый цвет - " . $favorite_color . ", а любимое число - " . $favorite_number;
print($united_string);
```

#### Типы данных

Выше уже упоминалось, что данные, помещенные в переменную, могут быть строкой текста или числом. В действительность таких типов данных гораздо больше, но первое время мы будем работать только с несколькими. Однако нам все равно важно уже сейчас понимать что такое "типы данных".  
Тип данных в языке программирования определяет допустимые значения, а также допустимые операции с данными этого типа.  
Например, с данными типа "целое число" допускается выполнять арифметические операции, а с данными типа "строка" - нет. Поделить строку на строку невозможно.
Кроме того, числа могут быть только в определенных приделах (в версии PHP для 32-битной ОС, самое большое число: 2147483647), а строки обязательно должны находиться в кавычках.

### Операторы

Оператором в программировании называется нечто, принимающее одно или более значений.  
Например, в арифметике есть такие операторы: +, -, /, *. Что означает сложение, вычитание, деление и умножение. Оператор всегда работает только в паре с двумя значениями, например складывает два числа (операнда) или умножает их друг на друга.  
PHP дополняет уже знакомые нам из арифметики операторы, несколькими новыми:
* уже знакомый оператор присваивания `=`, который используется для присваивания значения переменной
* очень полезны операторы сравнения: `==` `!=` `>` `<` - равно, не равно, больше и меньше
* `%` - оператор остатка от деления одного числа на другое. Например: `5 % 2 == 1; // true`  

### Условные конструкции

Иногда, в зависимости от условия, нужно выполнять различные действия. Для этого используется оператор if.
Например, мы спросили пол посетителя нашей страницы, сохранили его в переменную, а теперь хотим вывести разное приветствие, в зависимости от того, мужчина это или женщина. Для этого пригодятся операторы `if` и `else`.

```
<?php
if ($gender == "мужчина") {
    print("Приветствую тебя, мой Господин!");
} else {
    print("Приветствую тебя, о Госпожа!");
}
```

Из примера видно, что условная конструкция состоит из трех частей:
* условие if - выражение, которое возвращает истинный или ложный результат
* блок if - строки кода, которые будут выполнены, если условие вернуло истину
* блок else - строки кода, которые будут выполнены, если условие вернуло ложь

Обрати внимание, что каждый блок обрамляется и ограничивается фигурными скобками.

### Выражения

Выражение в языке программирование - это минимальный блок кода, имеющий значение (результат). Звучит несколько сложно, но практике практически каждая строка сценария является выражением.
Вот несколько примеров выражений:
* `$amount = 2 + 2;`
* `2 > 3`
* `$gender == "мужчина"`

Важно усвоить одно главное свойство выражений - они всегда имеют результат. 
Также различают два типа выражений: логические и арифметические.
Результатом выполнения логического выражение всегда будет истина или ложь.  
Например, результатом выражения `2 > 3` будет "ложь", потому что два, очевидно, меньше трех.

Другим видом выражений является арифметическое выражение.
Результатом выражения `$amount = 2 + 2` будет 4.  

В каких случаях может понадобиться знать результат выражения?  
Выражения особенно полезны в условиях, т.е. когда мы хотим выполнить или не выполнять какое-либо действие, в зависимости от результата выражения.
Выражения также можно объединять между собой таким образом, что несколько отдельных выражений в итоге вычисляются как одно.  

Предположим, что на нашем сайте мы хотим показать определенную картинку только посетителям мужского пола и старше 18 лет.
Ранее в коде сценария, мы уже получили и сохранили год рождения и пол посетителя в переменные `$age` и `$gender`.  
Напишем выражение и условие для реализации такого поведения:

```
<?php
if ($gender == "мужчина" and $age > 17) {
    print("<img src='/xxx.jpg'>");
}
```
Обрати внимание на ключевое слово *and* - это оператор, который объединяет два отдельных выражения в одно новое. Это новое выражение будет иметь значение "истина", только если оба отдельных выражений будут истинны.  
Иными словами, наше условие будет выполняться только для посетителей мужского пола *И* возрастом старше восемнадцати.
Т.е. несовершенолетние мальчики, равно как и совершенолетние девочки никакой картинки не увидят...

### Понятие алгоритма
Наверняка многие из нас что-то слышали про алгоритмы на уроках информатики в школе. К сожалению, далеко не все школьные знания остаются с нами после её окончания. Тем не менее, понимание что такое алгоритм и умение эти самые алгоритмы строить - это очень важные навыки, без которых не получится решать даже относительно простые задачи.

Если говорить простыми словами, то алгоритм - это просто очень подробный план работы. Мы все в течение жизни что нибудь планируем: отпуск, какое нибудь мероприятия, свое самостоятельное обучение и т.п.
От простого списка шагов алгоритм отличает существование условий и повторяющихся действий. 
Если вы в состоянии создать хороший, подробный алгоритм для реализации, скажем, какой нибудь возможности на сайте, то можно считать, что половина дела уже сделана!

Разберем для примера один алгоритм средней сложности.
На сайт нужно добавить форму обратной связи. Пользователь может заполнить эту форму, указать там свои контактные данные и написать сообщение. Информация из заполненной формы отправляется на электронную почту владельцу сайта. Вот как будет выглядеть алгоритм для этой задачи:
1. Показать форму
2. Проверить, что форма отправлена
3. Составить список полей формы, обязательных для заполнения
4. Для каждого поля из списка проверить, что оно заполнено
5. Если поле не заполнено, показать ошибку и не отправлять форму
6. Если все поля заполнены, сформировать сообщение электронной почты
7. Отправить сообщение на адрес администратора сайта

### Конфигурация PHP
Большинство программ всегда имеют отдельное окно настроек, где можно указать все основные параметры этого приложения. В PHP тоже есть свои настройки, только меняются они не через интерфейс, а путем редактирования специального файла - php.ini.
В файле php.ini задаются все настройки работы PHP. Из того, что нас будет интересовать в первую очередь - это режим управления ошибками, подключение дополнительных возможностей, настройки сессий и кук.

В разных ОС этот файл находится по разным путям. Проще всего пользователям сборки OpenServer - там php.ini можно открыть из главного меню.
